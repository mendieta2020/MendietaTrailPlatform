{% extends "admin/index.html" %}
{% load i18n static admin_dashboard %}

{% block content %}
{% obtener_metricas_negocio as kpi %}

<style>
    .dashboard-panel {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 30px;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    .kpi-card {
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        padding: 20px;
        flex: 1 1 200px;
        text-align: center;
        border-left: 5px solid #ccc;
        transition: transform 0.2s;
    }
    .kpi-card:hover { transform: translateY(-5px); }
    
    .kpi-value { font-size: 2.5rem; font-weight: bold; color: #333; margin: 10px 0; }
    .kpi-label { font-size: 0.9rem; text-transform: uppercase; color: #666; letter-spacing: 1px; }
    
    /* Colores según estado */
    .card-money { border-left-color: #27ae60; }
    .card-money .kpi-value { color: #27ae60; }
    
    .card-active { border-left-color: #2980b9; }
    .card-danger { border-left-color: #c0392b; }
    .card-warning { border-left-color: #f39c12; }
    .card-total { border-left-color: #8e44ad; }
</style>

<div class="dashboard-panel">
    <div class="kpi-card card-money">
        <div class="kpi-label">Ingresos este Mes</div>
        <div class="kpi-value">${{ kpi.ingresos_mes }}</div>
    </div>
    
    <div class="kpi-card card-active">
        <div class="kpi-label">Alumnos Activos</div>
        <div class="kpi-value">{{ kpi.activos }}</div>
    </div>

    <div class="kpi-card card-warning">
        <div class="kpi-label">Pagos Vencidos</div>
        <div class="kpi-value">{{ kpi.morosos }}</div>
    </div>

    <div class="kpi-card card-danger">
        <div class="kpi-label">Lesionados</div>
        <div class="kpi-value">{{ kpi.lesionados }}</div>
    </div>

    <div class="kpi-card card-total">
        <div class="kpi-label">Total Histórico</div>
        <div class="kpi-value">{{ kpi.total }}</div>
    </div>
</div>

{{ block.super }}
{% endblock %}